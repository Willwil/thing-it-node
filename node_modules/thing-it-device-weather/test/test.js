/**
 * This test file allows to run the basic initiation of the
 * HellowWorld class. It does not, however, simulate full
 * interaction with the node.
 */

var Weather = require('../weather');

var weather = Weather.create({});

weather.isSimulated = function () {
    return false;
};
weather.configuration = {
    simulated: false,
    cityName: "Sydney",
    countryCode: "au",
    languageCode: "en",
    units: "metric",
    updateFrequencySeconds: 10,
    openWeatherMapKey: "1e53c2e3757bee1dfc6da5768f27aa99"
};
weather.publishEvent = function (event, data) {
    console.log("Event", event);
};
weather.publishStateChange = function () {
    console.log("State Change", this.getState());
};

weather.logInfo = function () {
    if (arguments.length == 1) {
        console.log(arguments[0]);
    }
    else {
        console.log(arguments);
    }
}
weather.logDebug = function () {
    weather.logInfo(arguments);
}
weather.logError = function () {
    weather.logInfo(arguments);
}

console.log("About to start");
weather.start();


var weatherExampleObject = {
    "coord": {
        "lon": 151.21,
        "lat": -33.87
    },
    "weather": [
        {
            "id": 800,
            "main": "Clear",
            "description": "klarer Himmel",
            "icon": "01n"
        }],
    "base": "stations",
    "main": {
        "temp": 29,
        "pressure": 1009,
        "humidity": 42,
        "temp_min": 29,
        "temp_max": 29
    },
    "visibility": 10000,
    "wind": {
        "speed": 3.1,
        "deg": 360
    },
    "clouds": {
        "all": 0
    },
    "dt": 1481630400,
    "sys": {
        "type": 1,
        "id": 8233,
        "message": 0.0052,
        "country": "AU",
        "sunrise": 1481567886,
        "sunset": 1481619675
    },
    "id": 2147714,
    "name": "Sydney",
    "cod": 200
}